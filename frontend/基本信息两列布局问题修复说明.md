# 基本信息两列布局问题修复说明

## 问题描述

SchoolDetailModal 组件中的基本信息部分显示为单列，而不是预期的两列布局。

## 问题原因

### 根本原因
在移动端媒体查询中设置了单列布局：

```css
@media (max-width: 768px) {
  .info-grid {
    grid-template-columns: 1fr;  /* ❌ 强制单列 */
  }
}
```

### 为什么会显示单列？

当浏览器窗口宽度 **≤ 768px** 时，会触发这个媒体查询，导致基本信息强制显示为单列。

**常见触发场景：**
1. 🖥️ **笔记本电脑** - 13寸 MacBook Pro 分辨率通常是 1440x900，如果浏览器不是全屏可能 < 768px
2. 📱 **平板设备** - iPad 竖屏模式宽度 768px，正好在临界点
3. 📱 **手机设备** - 所有手机屏幕宽度都 < 768px
4. 🪟 **浏览器窗口** - 调整浏览器窗口大小时 < 768px

## 解决方案

### 修改前的媒体查询
```css
@media (max-width: 768px) {
  .info-grid {
    grid-template-columns: 1fr;  /* 单列 */
  }
}
```

### 修改后的媒体查询
```css
/* 删除了 768px 断点的单列设置 */

/* 只在真正的小屏手机上使用单列 */
@media (max-width: 480px) {
  .info-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }
}
```

## 断点策略

### 新的响应式断点

| 屏幕宽度 | 布局 | 设备类型 |
|---------|------|---------|
| > 480px | 两列 | 桌面、笔记本、平板 |
| ≤ 480px | 单列 | 小屏手机 |

### 为什么选择 480px？

1. ✅ **iPhone SE / 小屏手机** - 宽度约 375px，需要单列
2. ✅ **普通手机** - 宽度约 414-428px，需要单列
3. ✅ **平板和笔记本** - 宽度 > 480px，保持两列
4. ✅ **避免误触发** - 768px 太大，容易在正常设备上误触发

### 各设备显示效果

#### 桌面端（> 1024px）
```
┌─────────────────────────────────────────────┐
│ 基本信息                                    │
│ ┌──────────────┐    ┌──────────────┐      │
│ │ 学校规模     │    │ 教学语言     │      │
│ │ 30班        │    │ 中英文并重   │      │
│ └──────────────┘    └──────────────┘      │
│ ┌──────────────┐    ┌──────────────┐      │
│ │ 学费         │    │ 课程类型     │      │
│ └──────────────┘    └──────────────┘      │
└─────────────────────────────────────────────┘
```
✅ 两列布局，宽敞舒适

#### 平板端（481px - 768px）
```
┌───────────────────────────────┐
│ 基本信息                      │
│ ┌────────┐    ┌────────┐     │
│ │学校规模│    │教学语言│     │
│ └────────┘    └────────┘     │
│ ┌────────┐    ┌────────┐     │
│ │  学费  │    │课程类型│     │
│ └────────┘    └────────┘     │
└───────────────────────────────┘
```
✅ 两列布局，适中

#### 小屏手机（≤ 480px）
```
┌─────────────────┐
│ 基本信息        │
│ ┌─────────────┐ │
│ │ 学校规模    │ │
│ │ 30班       │ │
│ └─────────────┘ │
│ ┌─────────────┐ │
│ │ 教学语言    │ │
│ │ 中英文并重  │ │
│ └─────────────┘ │
│ ┌─────────────┐ │
│ │ 学费        │ │
│ └─────────────┘ │
└─────────────────┘
```
✅ 单列布局，避免拥挤

## 验证方法

### 方法1：调整浏览器窗口
1. 打开开发者工具 (F12)
2. 切换到设备模拟模式
3. 测试不同宽度：
   - 1024px → 应显示两列
   - 768px → 应显示两列
   - 480px → 应显示两列
   - 375px → 应显示单列

### 方法2：使用浏览器开发工具
```
Chrome DevTools → 设备工具栏 → 响应式
```

测试设备：
- ✅ iPhone SE (375px) → 单列
- ✅ iPhone 12 Pro (390px) → 单列
- ✅ iPad (768px) → 两列
- ✅ iPad Pro (1024px) → 两列

### 方法3：实际设备测试
在真实设备上打开页面验证。

## 技术细节

### CSS 优先级
```css
/* 基础样式 - 适用于所有屏幕 */
.info-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;  /* 默认两列 */
  gap: 16px;
}

/* 小屏覆盖 - 仅适用于 ≤ 480px */
@media (max-width: 480px) {
  .info-grid {
    grid-template-columns: 1fr;    /* 单列 */
    gap: 12px;                     /* 减小间距 */
  }
}
```

### 媒体查询最佳实践

#### ✅ 推荐的断点
- **320px** - 小型手机（iPhone SE）
- **480px** - 普通手机
- **768px** - 平板竖屏
- **1024px** - 平板横屏 / 小笔记本
- **1280px** - 笔记本 / 小桌面
- **1920px** - 大桌面

#### ❌ 避免的做法
- 不要使用过大的断点（如 768px）强制单列
- 不要假设所有平板都需要单列布局
- 不要忽略笔记本电脑的窗口大小

## 常见问题

### Q: 为什么我的电脑上显示单列？
**A**: 检查以下情况：
1. 浏览器窗口是否全屏？
2. 浏览器缩放比例是否正常（100%）？
3. 是否打开了开发者工具占用空间？

### Q: iPad 上应该显示几列？
**A**: iPad 屏幕宽度通常 > 480px，应该显示两列。

### Q: 能否在所有设备上都显示两列？
**A**: 可以，但不推荐。在小屏手机上强制两列会导致：
- 文字过小，难以阅读
- 信息拥挤
- 用户体验差

### Q: 如何自定义断点？
**A**: 修改媒体查询的 max-width 值：
```css
/* 更激进 - 只在极小屏幕单列 */
@media (max-width: 360px) {
  .info-grid { grid-template-columns: 1fr; }
}

/* 更保守 - 在中等屏幕也单列 */
@media (max-width: 640px) {
  .info-grid { grid-template-columns: 1fr; }
}
```

## 相关修改

**修改的文件：**
- `frontend/src/components/SchoolDetailModal.vue`

**修改内容：**
1. ✅ 移除了 768px 断点的单列设置
2. ✅ 添加了 480px 断点的单列设置
3. ✅ 调整了小屏幕的 gap 值

## 总结

### 问题根源
- 之前在 768px 断点强制单列
- 导致平板和小笔记本也显示单列

### 解决方案
- 提高断点到 480px
- 只在真正的小屏手机上单列
- 平板和笔记本保持两列

### 效果
- ✅ 桌面端、笔记本、平板：两列布局
- ✅ 小屏手机：单列布局
- ✅ 更好的响应式体验

现在基本信息在大多数设备上都会正确显示为两列布局！

