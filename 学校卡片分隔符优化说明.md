# 学校卡片分隔符优化说明

## 更新时间
2025年10月9日

## 更新内容

在学校卡片组件中，使用 `｜` 分隔符来分割区域、校网和宗教信息，使信息展示更加清晰美观。

## 修改文件

- `frontend/src/components/SchoolCard.vue`

## 具体改动

### 1. 模板结构调整

**修改前：**
```vue
<div class="location-info">
  <span>{{ school.district }}</span>
  <span v-if="school.schoolNet" class="school-net">校网：{{ school.schoolNet }}</span>
  <span v-if="school.religion">{{ school.religion }}</span>
</div>
```

**修改后：**
```vue
<div class="location-info">
  <span>{{ school.district }}</span>
  <template v-if="school.schoolNet">
    <span class="divider">｜</span>
    <span class="school-net">校网：{{ school.schoolNet }}</span>
  </template>
  <template v-if="school.religion">
    <span class="divider">｜</span>
    <span>{{ school.religion }}</span>
  </template>
</div>
```

### 2. 样式新增

```css
.divider {
  color: #d1d5db;
  font-weight: 300;
  user-select: none;
}
```

**样式特点：**
- `color: #d1d5db` - 浅灰色，不抢眼但清晰可见
- `font-weight: 300` - 细字重，视觉上更轻盈
- `user-select: none` - 用户复制文本时不会选中分隔符

## 视觉效果

### 完整信息展示
```
黄大仙区 ｜ 校网：43, 45 ｜ 基督教
```

### 仅区域和校网
```
九龙城区 ｜ 校网：34, 35, 41
```

### 仅区域和宗教
```
油尖旺区 ｜ 天主教
```

### 仅区域
```
沙田区
```

## 逻辑优化

使用 `<template>` 标签包裹条件内容，确保：
1. 只有在字段存在时才显示分隔符
2. 不会出现多余的分隔符
3. 保持代码结构清晰

## 示例对比

### 小学卡片
```
╔════════════════════════════════════════════╗
║ 拔萃男书院附属小学          [私立学校]     ║
║ 九龙城区 ｜ 校网：34 ｜ 基督教              ║
║ 男校    学费：59,860港元/年                ║
║ [开放申请]      [升Band 1比例：85%] →     ║
╚════════════════════════════════════════════╝
```

### 中学卡片
```
╔════════════════════════════════════════════╗
║ 拔萃男书院                  [直资学校]     ║
║ 九龙城区 ｜ 校网：34, 35, 41 ｜ 基督教     ║
║ 男    学费：$59860                         ║
║ [开放申请]                    [1B] →      ║
╚════════════════════════════════════════════╝
```

## 响应式设计

在不同屏幕尺寸下，分隔符都能正常显示：
- **桌面端**：信息横向排列，分隔符清晰可见
- **移动端**：如果内容过长换行，布局依然合理

## 兼容性

- ✅ 支持所有现代浏览器
- ✅ 字符 `｜` 是标准 Unicode 字符，无兼容性问题
- ✅ 不影响屏幕阅读器的使用

## 测试场景

### 1. 完整信息
- 区域：显示
- 校网：显示
- 宗教：显示
- 结果：`区域 ｜ 校网：xxx ｜ 宗教`

### 2. 缺少宗教
- 区域：显示
- 校网：显示
- 宗教：不显示
- 结果：`区域 ｜ 校网：xxx`

### 3. 缺少校网
- 区域：显示
- 校网：不显示
- 宗教：显示
- 结果：`区域 ｜ 宗教`

### 4. 仅区域
- 区域：显示
- 校网：不显示
- 宗教：不显示
- 结果：`区域`

## 优势

1. **视觉层次清晰**
   - 分隔符让不同信息类别一目了然
   - 浅灰色不抢夺主要内容的注意力

2. **信息密度优化**
   - 在有限空间内展示更多信息
   - 避免换行导致的空间浪费

3. **易读性提升**
   - 快速扫视时能轻松区分不同字段
   - 符合用户的阅读习惯

4. **美观性**
   - 使用全角字符 `｜` 与中文排版更协调
   - 细字重让界面更精致

## 用户体验

### 复制文本时
用户复制学校信息时，分隔符不会被选中，复制的内容更干净：
```
复制内容：黄大仙区 校网：43, 45 基督教
```

### 搜索时
分隔符不影响搜索功能，用户搜索"黄大仙区"或"基督教"都能正常匹配。

## 后续优化建议

### 1. 自适应间距
可以根据内容长度动态调整间距：
```css
.location-info {
  gap: clamp(6px, 1.5vw, 10px);
}
```

### 2. 暗色模式
在暗色模式下调整分隔符颜色：
```css
@media (prefers-color-scheme: dark) {
  .divider {
    color: #4b5563;
  }
}
```

### 3. 动画效果
可以添加微妙的渐入动画：
```css
.divider {
  animation: fadeIn 0.2s ease-in;
}
```

## 相关文件

- `frontend/src/components/SchoolCard.vue` - 学校卡片组件
- `frontend/src/types/school.ts` - 学校类型定义
- `frontend/src/views/Home.vue` - 主页面

## 测试清单

- [x] 小学卡片显示正确
- [x] 中学卡片显示正确
- [x] 分隔符样式美观
- [x] 缺失字段时不显示多余分隔符
- [x] 移动端显示正常
- [x] 复制文本时分隔符被排除
- [ ] 浏览器兼容性测试
- [ ] 屏幕阅读器测试

## 部署

更新前端代码后，需要重新构建：

```bash
cd frontend
npm run build
```

然后将 `dist` 目录部署到服务器。

## 总结

通过添加 `｜` 分隔符，学校卡片的信息展示更加清晰、美观和专业。这个小的改动能显著提升用户的阅读体验。

