# 中学入学信息显示功能说明

## 功能概述

在学校详情弹窗（SchoolDetailModal.vue）中添加了中学特有的"中一入学信息"展示模块。

## 实现内容

### 1. 新增显示模块

在学校详情页中添加了"中一入学信息"部分，位置在：
- **学校特色**之后
- **联络信息**之前

### 2. 条件显示

入学信息模块只在以下条件都满足时显示：
- ✅ 学校类型为中学（`school.type === 'secondary'`）
- ✅ 有入学信息数据（`school.admissionInfo` 存在）

### 3. 数据来源

**后端字段：**
- 数据表：`tb_secondary_schools`
- 字段名：`admission_info` (数据库)
- API 返回：`admissionInfo` (JSON)

**API 序列化：**
```python
# backend/backend/api/schools/secondary_views.py
"admissionInfo": school.admission_info,
```

### 4. 视觉设计

**样式特点：**
- 浅灰色背景（#f8f9fa）
- 左侧蓝色强调边框（4px solid #007bff）
- 圆角卡片设计（8px border-radius）
- 舒适的行高（line-height: 1.8）
- 支持多行文本显示

**样式代码：**
```css
.admission-info {
  background: #f8f9fa;
  padding: 16px;
  border-radius: 8px;
  border-left: 4px solid #007bff;
}

.admission-content {
  color: #2c3e50;
  font-size: 15px;
  line-height: 1.8;
  white-space: pre-wrap;
  word-wrap: break-word;
}
```

## 页面结构

```
学校详情弹窗
├─ 标题栏
├─ 基本信息
├─ 学校特色（如果有）
├─ 中一入学信息（仅中学，如果有）  ← 新增
└─ 联络信息
```

## 显示效果

```
┌─────────────────────────────────────┐
│ 📋 基本信息                         │
│ （学校规模、教学语言、学费等）      │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ ❤️ 学校特色                         │
│ • 特色1                             │
│ • 特色2                             │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 📝 中一入学信息                     │
│ ┌─────────────────────────────────┐ │
│ │ 入学信息的具体文字内容...       │ │
│ │ 支持多行显示                    │ │
│ │ 自动换行                        │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 📞 联络信息                         │
│ 地址：XXX                           │
│ 电话：XXX                           │
└─────────────────────────────────────┘
```

## HTML 结构

```vue
<!-- 入学信息部分（中学特有） -->
<section v-if="school.type === 'secondary' && school.admissionInfo" 
         class="admission-info">
  <h3>📝 中一入学信息</h3>
  <div class="admission-content">
    {{ school.admissionInfo }}
  </div>
</section>
```

## 数据示例

**典型的入学信息内容：**
```
中一入学信息：
- 自行分配学位中一收生人数：180
- 统一派位中一收生人数：180
- 中一自行分配学位收生准则：
  1. 学业成绩（40%）
  2. 面试表现（30%）
  3. 操行及品德（20%）
  4. 课外活动及服务（10%）
```

## 技术细节

### 文本处理
- **white-space: pre-wrap** - 保留换行符和空格
- **word-wrap: break-word** - 长单词自动换行
- **line-height: 1.8** - 提高可读性

### 响应式设计
- 自适应容器宽度
- 移动端同样显示良好
- 文字自动换行，不会溢出

### 数据类型
- TypeScript 接口中 `admissionInfo?: string`
- 可选字段，不影响小学数据

## 与其他字段的区别

| 字段 | 适用类型 | 显示位置 | 样式 |
|-----|---------|---------|------|
| features | 小学/中学 | 独立区块 | 列表形式 |
| admissionInfo | 仅中学 | 独立区块 | 文本卡片 |
| schoolCurriculum | 仅中学 | （未显示） | - |

## 未来扩展

可以考虑添加的功能：
1. 支持 HTML 格式的入学信息
2. 添加折叠/展开功能（当内容较长时）
3. 高亮关键信息（如日期、数字等）
4. 添加"查看完整入学指南"链接

## 注意事项

1. **数据完整性**：部分学校可能没有入学信息数据
2. **文本格式**：保持数据库中的格式，包括换行
3. **条件显示**：只对中学生效，不影响小学展示
4. **性能**：由于是条件渲染，不会增加小学详情的性能开销

## 相关文件

**前端：**
- `frontend/src/components/SchoolDetailModal.vue` - 详情弹窗组件
- `frontend/src/types/school.ts` - School 类型定义

**后端：**
- `backend/backend/api/schools/secondary_views.py` - 中学 API
- `backend/backend/models/tb_secondary_schools.py` - 中学模型
- `backend/common/db/tb_secondary_schools.sql` - 数据库表结构

## 总结

此次更新为中学详情页添加了入学信息展示功能，采用独立卡片样式，视觉上与其他信息模块保持一致，同时又有明显的区分。用户可以在学校详情页直接查看中一入学的相关信息，无需跳转到其他页面。

