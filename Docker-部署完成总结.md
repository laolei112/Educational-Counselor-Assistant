# âœ… Docker å…¨æ ˆéƒ¨ç½²å®Œæˆæ€»ç»“

## ğŸ‰ éƒ¨ç½²æˆæœ

å·²æˆåŠŸå®Œæˆ**é¦™æ¸¯å‡å­¦åŠ©æ‰‹**é¡¹ç›®çš„ Docker å…¨æ ˆéƒ¨ç½²ï¼Œå®ç°äº†ç°ä»£åŒ–çš„å‰åç«¯åˆ†ç¦»æ¶æ„ï¼

## ğŸ“ æ–°å¢æ–‡ä»¶åˆ—è¡¨

### ğŸ³ Docker é…ç½®æ–‡ä»¶
- `docker-compose.yml` - ä¸»è¦æœåŠ¡ç¼–æ’é…ç½®
- `docker-compose.dev.yml` - å¼€å‘ç¯å¢ƒè¦†ç›–é…ç½®
- `.dockerignore` - Docker æ„å»ºå¿½ç•¥æ–‡ä»¶

### ğŸ¨ å‰ç«¯ Docker åŒ–
- `frontend/Dockerfile` - å‰ç«¯å¤šé˜¶æ®µæ„å»ºé…ç½®
- `frontend/nginx.conf` - å‰ç«¯ Nginx é…ç½®
- `frontend/.dockerignore` - å‰ç«¯æ„å»ºå¿½ç•¥æ–‡ä»¶

### ğŸ”§ åç«¯ Docker åŒ–
- `backend/Dockerfile` - åç«¯åº”ç”¨æ„å»ºé…ç½®
- `backend/docker-entrypoint.sh` - å®¹å™¨å¯åŠ¨è„šæœ¬
- `backend/config/conf/dev/backend/settings.docker.json` - Docker ç¯å¢ƒé…ç½®

### ğŸŒ Nginx åå‘ä»£ç†
- `nginx/nginx.conf` - åå‘ä»£ç†é…ç½®
- `nginx/logs/.gitkeep` - æ—¥å¿—ç›®å½•å ä½

### ğŸš€ å¯åŠ¨è„šæœ¬
- `start-docker.sh` - Linux/Mac å¯åŠ¨è„šæœ¬
- `start-full-stack.bat` - Windows å¯åŠ¨è„šæœ¬

### ğŸ“š æ–‡æ¡£
- `README-Docker.md` - Docker éƒ¨ç½²æŒ‡å—
- `README-å…¨æ ˆéƒ¨ç½².md` - å®Œæ•´éƒ¨ç½²æ–‡æ¡£
- `Docker-éƒ¨ç½²å®Œæˆæ€»ç»“.md` - æœ¬æ€»ç»“æ–‡æ¡£

## ğŸ—ï¸ æ¶æ„ç‰¹ç‚¹

### âœ¨ å‰åç«¯åˆ†ç¦»
- **å‰ç«¯**: Vue 3 + Vite + TypeScript â†’ é™æ€æ–‡ä»¶ â†’ Nginx æœåŠ¡
- **åç«¯**: Django + DRF â†’ API æœåŠ¡
- **ä»£ç†**: Nginx ç»Ÿä¸€å…¥å£ï¼Œè·¯ç”±åˆ†å‘

### ğŸ”’ å®‰å…¨ä¼˜åŒ–
- Nginx åå‘ä»£ç†éšè—å†…éƒ¨æœåŠ¡
- CORS è·¨åŸŸå¤„ç†
- å®‰å…¨å¤´è®¾ç½®
- gzip å‹ç¼©ä¼˜åŒ–

### ğŸ“¦ å®¹å™¨åŒ–ä¼˜åŠ¿
- **ä¸€è‡´æ€§**: å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒç»Ÿä¸€
- **éš”ç¦»æ€§**: æœåŠ¡é—´ç‹¬ç«‹ï¼Œäº’ä¸å½±å“
- **å¯æ‰©å±•**: æ”¯æŒæ°´å¹³æ‰©å±•
- **æ˜“éƒ¨ç½²**: ä¸€é”®å¯åŠ¨æ•´ä¸ªæŠ€æœ¯æ ˆ

## ğŸ¯ æœåŠ¡é…ç½®

| æœåŠ¡ | å®¹å™¨å | ç«¯å£ | è¯´æ˜ |
|------|--------|------|------|
| **Nginx** | `edu_nginx` | `80` | åå‘ä»£ç† + é™æ€æ–‡ä»¶ |
| **Frontend** | `edu_frontend` | - | Vue 3 SPA åº”ç”¨ |
| **Backend** | `edu_backend` | - | Django API æœåŠ¡ |
| **MySQL** | `edu_mysql` | `3306` | æ•°æ®åº“ |
| **Redis** | `edu_redis` | `6380` | ç¼“å­˜ |

## ğŸŒŸ æŠ€æœ¯äº®ç‚¹

### ğŸ”¨ å¤šé˜¶æ®µæ„å»º
```dockerfile
# å‰ç«¯æ„å»ºä¼˜åŒ–
FROM node:18-alpine as build-stage  # æ„å»ºé˜¶æ®µ
FROM nginx:alpine as production-stage  # ç”Ÿäº§é˜¶æ®µ
```

### ğŸ”„ å¥åº·æ£€æŸ¥
- æ•°æ®åº“è¿æ¥ç­‰å¾…æœºåˆ¶
- Redis è¿æ¥éªŒè¯
- Nginx å¥åº·æ£€æŸ¥ç«¯ç‚¹

### ğŸ“Š æ—¥å¿—ç®¡ç†
- é›†ä¸­åŒ–æ—¥å¿—æ”¶é›†
- å®¹å™¨æ—¥å¿—åˆ†ç¦»
- å®æ—¶æ—¥å¿—æŸ¥çœ‹æ”¯æŒ

### âš¡ æ€§èƒ½ä¼˜åŒ–
- Nginx gzip å‹ç¼©
- é™æ€èµ„æºç¼“å­˜
- æ•°æ®åº“è¿æ¥æ± 
- Redis ç¼“å­˜åŠ é€Ÿ

## ğŸš€ å¯åŠ¨æ–¹å¼

### ğŸ–±ï¸ ä¸€é”®å¯åŠ¨
```bash
# Windows
start-full-stack.bat

# Linux/Mac  
./start-docker.sh
```

### ğŸ“Ÿ æ‰‹åŠ¨å¯åŠ¨
```bash
docker-compose up -d --build
```

### ğŸ” çŠ¶æ€æ£€æŸ¥
```bash
docker-compose ps
docker-compose logs -f
```

## ğŸŒ è®¿é—®åœ°å€

- **ğŸ¨ å‰ç«¯åº”ç”¨**: http://localhost
- **ğŸ”Œ åç«¯ API**: http://localhost/api/
- **ğŸ“– API æ–‡æ¡£**: http://localhost/swagger/

## ğŸ§ª æµ‹è¯•éªŒè¯

```bash
# å‰ç«¯æµ‹è¯•
curl http://localhost

# API æµ‹è¯•
curl http://localhost/api/schools/

# å¥åº·æ£€æŸ¥
curl http://localhost/nginx-health
```

## ğŸ”§ å¼€å‘å‹å¥½

### ğŸ“ ä»£ç çƒ­é‡è½½
- åç«¯ä»£ç å˜æ›´è‡ªåŠ¨é‡å¯
- å‰ç«¯æ”¯æŒå¼€å‘æ¨¡å¼

### ğŸ› ï¸ è°ƒè¯•æ”¯æŒ
```bash
# è¿›å…¥å®¹å™¨è°ƒè¯•
docker-compose exec backend bash
docker-compose exec frontend sh

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker-compose logs -f backend
```

## ğŸ“ˆ æ‰©å±•èƒ½åŠ›

### ğŸ”„ æ°´å¹³æ‰©å±•
```bash
# æ‰©å±•åç«¯å®ä¾‹
docker-compose up -d --scale backend=3
```

### ğŸŒ ç¯å¢ƒåˆ‡æ¢
```bash
# å¼€å‘ç¯å¢ƒ
docker-compose -f docker-compose.yml -f docker-compose.dev.yml up

# ç”Ÿäº§ç¯å¢ƒ
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up
```

## ğŸŠ æˆåŠŸè¦ç´ 

1. **âœ… æ¶æ„è®¾è®¡**: ç°ä»£åŒ–å‰åç«¯åˆ†ç¦»
2. **âœ… å®¹å™¨åŒ–**: Docker + Docker Compose ç¼–æ’
3. **âœ… åå‘ä»£ç†**: Nginx ç»Ÿä¸€ç½‘å…³
4. **âœ… æ•°æ®æŒä¹…åŒ–**: MySQL + Redis æ•°æ®å·
5. **âœ… å¼€å‘ä½“éªŒ**: ä¸€é”®å¯åŠ¨ + çƒ­é‡è½½
6. **âœ… æ–‡æ¡£å®Œå–„**: è¯¦ç»†éƒ¨ç½²å’Œä½¿ç”¨æŒ‡å—

## ğŸ¯ åç»­ä¼˜åŒ–å»ºè®®

### ğŸ” ç”Ÿäº§ç¯å¢ƒ
- [ ] HTTPS è¯ä¹¦é…ç½®
- [ ] ç¯å¢ƒå˜é‡ç®¡ç†
- [ ] å¯†ç å®‰å…¨åŠ å›º
- [ ] ç›‘æ§å’Œæ—¥å¿—èšåˆ

### âš¡ æ€§èƒ½æå‡
- [ ] CDN é…ç½®
- [ ] æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
- [ ] ç¼“å­˜ç­–ç•¥ä¼˜åŒ–
- [ ] é™æ€èµ„æºå‹ç¼©

### ğŸ›¡ï¸ å®‰å…¨åŠ å›º
- [ ] å®¹å™¨å®‰å…¨æ‰«æ
- [ ] ç½‘ç»œå®‰å…¨ç­–ç•¥
- [ ] è®¿é—®æ§åˆ¶
- [ ] å¤‡ä»½ç­–ç•¥

---

**ğŸ‰ æ­å–œï¼æ‚¨çš„é¦™æ¸¯å‡å­¦åŠ©æ‰‹é¡¹ç›®å·²æˆåŠŸå®ç°å…¨æ ˆ Docker åŒ–éƒ¨ç½²ï¼**

ç°åœ¨å¯ä»¥é€šè¿‡ `start-full-stack.bat` (Windows) æˆ– `./start-docker.sh` (Linux/Mac) ä¸€é”®å¯åŠ¨å®Œæ•´çš„åº”ç”¨æ ˆï¼Œäº«å—ç°ä»£åŒ–çš„å®¹å™¨åŒ–éƒ¨ç½²ä½“éªŒï¼ 