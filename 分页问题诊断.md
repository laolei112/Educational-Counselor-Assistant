# åˆ†é¡µé—®é¢˜è¯Šæ–­æŒ‡å—

## ðŸ› é—®é¢˜æè¿°
åˆ‡æ¢åˆ†é¡µåŽæ•°æ®æ²¡æœ‰æ›´æ–°

## ðŸ” å¯èƒ½çš„åŽŸå› 

### 1. å‰ç«¯é—®é¢˜
- **æ•°æ®ç»‘å®šé—®é¢˜**: `currentPageData` è®¡ç®—å±žæ€§å¯èƒ½æœ‰é—®é¢˜
- **çŠ¶æ€æ›´æ–°é—®é¢˜**: `pagination.value.page` æ›´æ–°åŽæ²¡æœ‰è§¦å‘é‡æ–°è¯·æ±‚
- **API è°ƒç”¨é—®é¢˜**: åˆ†é¡µå‚æ•°æ²¡æœ‰æ­£ç¡®ä¼ é€’åˆ° API

### 2. åŽç«¯é—®é¢˜
- **åˆ†é¡µå‚æ•°è§£æžé—®é¢˜**: åŽç«¯æ²¡æœ‰æ­£ç¡®è§£æž `page` å’Œ `pageSize` å‚æ•°
- **æ•°æ®åº“æŸ¥è¯¢é—®é¢˜**: åˆ†é¡µæŸ¥è¯¢æ²¡æœ‰æ­£ç¡®æ‰§è¡Œ
- **å“åº”æ•°æ®é—®é¢˜**: è¿”å›žçš„åˆ†é¡µæ•°æ®ä¸æ­£ç¡®

### 3. ç¼“å­˜é—®é¢˜
- **æµè§ˆå™¨ç¼“å­˜**: æµè§ˆå™¨ç¼“å­˜äº† API å“åº”
- **Docker ç¼“å­˜**: å®¹å™¨ç¼“å­˜äº†æ—§ç‰ˆæœ¬

## ðŸ› ï¸ è¯Šæ–­æ­¥éª¤

### æ­¥éª¤ 1: ä½¿ç”¨è°ƒè¯•é¡µé¢
1. è®¿é—® `http://localhost/debug`
2. æŸ¥çœ‹å½“å‰çŠ¶æ€ä¿¡æ¯
3. ç‚¹å‡»æµ‹è¯•æŒ‰é’®ï¼Œè§‚å¯ŸæŽ§åˆ¶å°æ—¥å¿—
4. æ£€æŸ¥æ•°æ®æ˜¯å¦æ­£ç¡®æ›´æ–°

### æ­¥éª¤ 2: æ£€æŸ¥æŽ§åˆ¶å°æ—¥å¿—
æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹æŽ§åˆ¶å°è¾“å‡ºï¼š
- ç¿»é¡µæ—¶æ˜¯å¦æœ‰ `ðŸ”„ ç¿»é¡µåˆ°ç¬¬ X é¡µ` æ—¥å¿—
- API è°ƒç”¨æ—¶æ˜¯å¦æœ‰ `ðŸ“¡ API æŸ¥è¯¢å‚æ•°` æ—¥å¿—
- API å“åº”æ—¶æ˜¯å¦æœ‰ `âœ… API å“åº”æˆåŠŸ` æ—¥å¿—

### æ­¥éª¤ 3: æ£€æŸ¥ç½‘ç»œè¯·æ±‚
1. æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ Network æ ‡ç­¾
2. ç‚¹å‡»åˆ†é¡µæŒ‰é’®
3. æŸ¥çœ‹æ˜¯å¦æœ‰æ–°çš„ API è¯·æ±‚
4. æ£€æŸ¥è¯·æ±‚å‚æ•°å’Œå“åº”æ•°æ®

### æ­¥éª¤ 4: æ£€æŸ¥åŽç«¯æ—¥å¿—
```bash
# æŸ¥çœ‹åŽç«¯å®¹å™¨æ—¥å¿—
docker-compose logs backend

# å®žæ—¶æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f backend
```

## ðŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1: ä¿®å¤å‰ç«¯æ•°æ®ç»‘å®š
å¦‚æžœ `currentPageData` æœ‰é—®é¢˜ï¼Œç¡®ä¿å®ƒç›´æŽ¥ä½¿ç”¨ `schools.value`ï¼š

```typescript
const currentPageData = computed(() => {
  return schools.value
})
```

### æ–¹æ¡ˆ 2: å¼ºåˆ¶åˆ·æ–°æ•°æ®
åœ¨ `goToPage` æ–¹æ³•ä¸­æ·»åŠ å¼ºåˆ¶åˆ·æ–°ï¼š

```typescript
const goToPage = async (page: number) => {
  if (page < 1 || page > pagination.value.totalPages) return
  
  pagination.value.page = page
  
  // å¼ºåˆ¶åˆ·æ–°æ•°æ®
  if (searchKeyword.value) {
    await searchSchools(searchKeyword.value)
  } else {
    await fetchSchools()
  }
}
```

### æ–¹æ¡ˆ 3: æ¸…ç†ç¼“å­˜
```bash
# æ¸…ç† Docker ç¼“å­˜
docker-compose down -v
docker-compose up -d --build

# æ¸…ç†æµè§ˆå™¨ç¼“å­˜
# Chrome: Ctrl+Shift+R
# Firefox: Ctrl+Shift+R
# Safari: Cmd+Option+R
```

### æ–¹æ¡ˆ 4: æ£€æŸ¥ API å‚æ•°
ç¡®ä¿ API è¯·æ±‚åŒ…å«æ­£ç¡®çš„åˆ†é¡µå‚æ•°ï¼š

```typescript
const apiQuery = {
  page: pagination.value.page,
  pageSize: pagination.value.pageSize,
  // ... å…¶ä»–å‚æ•°
}
```

## ðŸ§ª æµ‹è¯•ç”¨ä¾‹

### æµ‹è¯• 1: åŸºæœ¬åˆ†é¡µ
1. è®¿é—®é¦–é¡µ
2. ç‚¹å‡»ç¬¬2é¡µ
3. æ£€æŸ¥æ•°æ®æ˜¯å¦æ›´æ–°
4. ç‚¹å‡»ç¬¬3é¡µ
5. æ£€æŸ¥æ•°æ®æ˜¯å¦æ›´æ–°

### æµ‹è¯• 2: æœç´¢åˆ†é¡µ
1. åœ¨æœç´¢æ¡†è¾“å…¥å…³é”®è¯
2. ç‚¹å‡»æœç´¢
3. ç‚¹å‡»ç¬¬2é¡µ
4. æ£€æŸ¥æœç´¢ç»“æžœæ˜¯å¦æ­£ç¡®åˆ†é¡µ

### æµ‹è¯• 3: ç±»åž‹åˆ‡æ¢åˆ†é¡µ
1. åˆ‡æ¢åˆ°å°å­¦
2. ç‚¹å‡»ç¬¬2é¡µ
3. åˆ‡æ¢åˆ°ä¸­å­¦
4. ç‚¹å‡»ç¬¬2é¡µ
5. æ£€æŸ¥æ•°æ®æ˜¯å¦æ­£ç¡®

## ðŸ“ è°ƒè¯•ä¿¡æ¯æ”¶é›†

å¦‚æžœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æ”¶é›†ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **æµè§ˆå™¨æŽ§åˆ¶å°æ—¥å¿—**
2. **ç½‘ç»œè¯·æ±‚è¯¦æƒ…**
3. **åŽç«¯æ—¥å¿—**
4. **å½“å‰åˆ†é¡µçŠ¶æ€**
5. **API å“åº”æ•°æ®**

## ðŸš€ å¿«é€Ÿä¿®å¤

å¦‚æžœæ€¥éœ€ä¿®å¤ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹å¿«é€Ÿæ–¹æ¡ˆï¼š

```typescript
// åœ¨ goToPage æ–¹æ³•ä¸­æ·»åŠ å»¶è¿Ÿ
const goToPage = async (page: number) => {
  if (page < 1 || page > pagination.value.totalPages) return
  
  pagination.value.page = page
  
  // æ·»åŠ å°å»¶è¿Ÿç¡®ä¿çŠ¶æ€æ›´æ–°
  await new Promise(resolve => setTimeout(resolve, 100))
  
  if (searchKeyword.value) {
    await searchSchools(searchKeyword.value)
  } else {
    await fetchSchools()
  }
}
```
